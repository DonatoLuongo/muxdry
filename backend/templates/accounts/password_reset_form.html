{% extends 'base.html' %}
{% load static %}

{% block title %}Restablecer contraseña - MUXDRY{% endblock %}

{% block extra_css %}
<style>
.btn-password-reset-submit {
    width: 100%; padding: 12px; background: #0A2B32; color: #fff; border: none; border-radius: 8px;
    font-weight: 600; cursor: pointer; font-size: 1rem;
    transition: background 0.25s ease, transform 0.25s ease, box-shadow 0.25s ease;
}
.btn-password-reset-submit:hover {
    background: #0d3840; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(10,43,50,0.3);
}
.btn-password-reset-submit:active { transform: translateY(0); }
.btn-password-reset-submit i { transition: transform 0.25s ease; }
.btn-password-reset-submit:hover i { transform: translateX(4px); }
</style>
{% endblock %}

{% block content %}
<div class="password-reset-wrap" style="max-width:480px;margin:2rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,0.08);">
    <h1 style="font-size:1.5rem;color:#0A2B32;margin-bottom:0.5rem;"><i class="fas fa-key"></i> Restablecer contraseña</h1>
    <p style="color:#6c757d;font-size:0.95rem;margin-bottom:1.5rem;">Ingresa tu correo y, opcionalmente, tu nombre y apellido para verificar tu identidad. Te enviaremos un enlace seguro para crear una nueva contraseña.</p>
    <form method="post" class="password-reset-form">
        {% csrf_token %}
        {% if form.non_field_errors %}
        <div style="padding:0.75rem;background:#f8d7da;color:#842029;border-radius:6px;margin-bottom:1rem;font-size:0.9rem;">
            {{ form.non_field_errors }}
        </div>
        {% endif %}
        <div style="margin-bottom:1rem;">
            <label for="id_email" style="display:block;font-weight:600;margin-bottom:4px;color:#333;">Correo electrónico *</label>
            <input type="email" name="email" id="id_email" required autocomplete="email" style="width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:1rem;" placeholder="tu@correo.com">
            {% if form.email.errors %}<p style="color:#dc3545;font-size:0.85rem;margin-top:4px;">{{ form.email.errors.0 }}</p>{% endif %}
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem;">
            <div>
                <label for="id_first_name" style="display:block;font-weight:600;margin-bottom:4px;color:#333;">Nombre (opcional)</label>
                <input type="text" name="first_name" id="id_first_name" maxlength="150" style="width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;" placeholder="Tu nombre">
            </div>
            <div>
                <label for="id_last_name" style="display:block;font-weight:600;margin-bottom:4px;color:#333;">Apellido (opcional)</label>
                <input type="text" name="last_name" id="id_last_name" maxlength="150" style="width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;" placeholder="Tu apellido">
            </div>
        </div>
        <p style="font-size:0.8rem;color:#6c757d;margin-bottom:1rem;"><i class="fas fa-info-circle"></i> Si proporcionas nombre y apellido, verificaremos que coincidan con tu cuenta. Los pequeños errores de escritura no afectarán el proceso.</p>
        <button type="submit" class="btn-password-reset-submit">
            <i class="fas fa-paper-plane"></i> Enviar enlace de restablecimiento
        </button>
    </form>
    <p style="margin-top:1.5rem;text-align:center;">
        <a href="{% url 'login' %}" style="color:#0A2B32;text-decoration:none;">&larr; Volver al inicio de sesión</a>
    </p>
</div>
{% endblock %}
